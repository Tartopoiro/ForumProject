<header class="p-4">
  <div class="relative z-50 container flex justify-between h-16 mx-auto">
    <!--
    <nav class="items-stretch hidden space-x-3 lg:flex">
      <li class="flex">
        <a rel="noopener noreferrer"
           routerLink="/"
           routerLinkActive="active"
           [routerLinkActiveOptions]="{exact:true}"
           class="btnMenu flex text-lg items-center px-4 hover:border-b-2">Accueil</a>
      </li>
      <li class="flex">
        <a rel="noopener noreferrer"
           routerLink="/trends"
           routerLinkActive="active"
           class="btnMenu flex text-lg items-center px-4 hover:border-b-2">Tendance</a>
      </li>
      <li class="flex">
        <a rel="noopener noreferrer"
           routerLink="/categories"
           routerLinkActive="active"
           class="btnMenu flex text-lg items-center px-4 hover:border-b-2">Cat√©gorie</a>
      </li>
    </nav>
    -->
    <a rel="noopener noreferrer" routerLink="/" (click)="this.menuOpen = false"
       aria-label="Back to homepage" class="flex items-center transition hover:scale-125 ">
      <img src="../../../assets/logo_simple.png" alt="Logo" class="w-14 m-auto">
    </a>
    <div class="flex items-center md:space-x-4">
      <div class="relative">
				<span class="absolute inset-y-0 left-0 flex items-center pl-2">
					<button type="submit" title="Search" class="p-1 focus:outline-none focus:ring">
						<svg fill="#000" viewBox="0 0 512 512" class="w-4 h-4">
							<path d="M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z"></path>
						</svg>
					</button>
				</span>
        <input type="search" name="Search" placeholder="Rechercher..." [formControl]="this.inputSearch" (click)="this.findBlog.updateBlogs()"
               class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none text-black dark:text-white dark:bg-neutral-800">

        <div class="absolute z-10 top-11 w-full text-center rounded-lg overflow-hidden">
          @for(entry of this.getKeys(this.listSearch); track entry[0]){
            <span class="block bg-white text-black cursor-pointer hover:bg-black hover:text-white" (click)="goTo(entry[0])">{{ entry[1] }}</span>
          }

        </div>
      </div>
      @if (this.user.isConnected()){
        <a type="button"
           routerLink="/profile"
           class="hidden px-6 py-2 font-semibold rounded lg:block bg-color-icon color-color-background transition hover:scale-110"
        >Mon Profil</a>
      } @else {
        <a type="button"
           routerLink="/login"
           class="hidden px-6 py-2 font-semibold rounded lg:block bg-color-icon color-color-background transition hover:scale-110"
        >Connexion</a>
      }

    </div>
    @if(!this.menuOpen){
    <button title="Open menu" type="button" class="p-4 lg:hidden" (click)="this.menuOpen = true">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
    } @else {
      <button title="close menu" type="button" class="p-4 lg:hidden" (click)="this.menuOpen = false">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 -0.5 21 21">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Dribbble-Light-Preview" transform="translate(-419.000000, -240.000000)" fill="#fff">
              <g id="icons" transform="translate(56.000000, 160.000000)">
                <polygon id="close-[#1511]" points="375.0183 90 384 98.554 382.48065 100 373.5 91.446 364.5183 100 363 98.554 371.98065 90 363 81.446 364.5183 80 373.5 88.554 382.48065 80 384 81.446">
                </polygon></g></g></g>
        </svg>
      </button>
    }

  </div>
  @if(this.menuOpen){
    <div class="absolute inset-0 z-40 bg-color-background w-full h-full text-center">
      <div class="absolute m-auto bottom-3 left-0 right-0 w-min h-min" (click)="this.menuOpen = false">
        @if (this.user.isConnected()){
          <a type="button"
             routerLink="/profile"
             class="w-max px-6 py-2 font-semibold rounded lg:block bg-color-icon color-color-background transition hover:scale-110"
          >Mon Profil</a>
        } @else {
          <a type="button"
             routerLink="/login"
             class="w-max px-6 py-2 font-semibold rounded lg:block bg-color-icon color-color-background transition hover:scale-110"
          >Connexion</a>
        }
      </div>
    </div>
  }
</header>
